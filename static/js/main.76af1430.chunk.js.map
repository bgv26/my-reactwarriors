{"version":3,"sources":["utils/api.js","components/MovieItem.js","components/MovieTabs.js","components/Pages.js","components/App.js","index.js"],"names":["API_URL","API_KEY_3","MovieItem","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggleOverview","setState","show","state","toggleLike","like","toggleWillWatch","willWatch","_this2","_this$props","props","movie","removeMovie","addMovieToWatchList","removeMovieFromWatchList","react_default","a","createElement","className","src","concat","backdrop_path","poster_path","alt","title","vote_average","type","onClick","bind","React","Component","MovieTabs","sort_by","updateSortBy","handleClick","value","getItemClassName","classNames","active","Pages","page","total_pages","updatePage","next_page","disabled","App","getMovies","fetch","then","response","json","data","movies","results","updateMovies","filter","item","id","toConsumableArray","moviesToWatch","prevProps","prevState","components_MovieTabs","components_Pages","map","key","components_MovieItem","length","rootElement","document","getElementById","ReactDOM","render","StrictMode","components_App"],"mappings":"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","file":"static/js/main.76af1430.chunk.js","sourcesContent":["export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from \"react\";\r\nimport \"../stylesheets/index.scss\";\r\n\r\nconst IMAGE_URL = \"https://image.tmdb.org/t/p/w500\";\r\n\r\nclass MovieItem extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      show: false,\r\n      like: false,\r\n      willWatch: false\r\n    };\r\n  }\r\n\r\n  toggleOverview = () => {\r\n    this.setState({\r\n      show: !this.state.show\r\n    });\r\n  };\r\n\r\n  toggleLike = () => {\r\n    this.setState({\r\n      like: !this.state.like\r\n    });\r\n  };\r\n\r\n  toggleWillWatch = () => {\r\n    this.setState({\r\n      willWatch: !this.state.willWatch\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      movie,\r\n      removeMovie,\r\n      addMovieToWatchList,\r\n      removeMovieFromWatchList\r\n    } = this.props;\r\n    return (\r\n      <div className=\"card\">\r\n        <img\r\n          className=\"card-img-top\"\r\n          src={`${IMAGE_URL}${movie.backdrop_path || movie.poster_path}`}\r\n          alt={movie.title}\r\n        />\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{movie.title}</h6>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <p className=\"mb-0\">Rating: {movie.vote_average}</p>\r\n            <button\r\n              type=\"button\"\r\n              className={\r\n                this.state.willWatch ? \"btn btn-success\" : \"btn btn-secondary\"\r\n              }\r\n              onClick={() => {\r\n                this.toggleWillWatch();\r\n                this.state.willWatch\r\n                  ? removeMovieFromWatchList(movie)\r\n                  : addMovieToWatchList(movie);\r\n              }}\r\n            >\r\n              {this.state.willWatch\r\n                ? \"Remove from Watch List\"\r\n                : \"Add to Watch List\"}\r\n            </button>\r\n          </div>\r\n          <button type=\"button\" onClick={removeMovie.bind(null, movie)}>\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieItem;\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst MovieTabs = props => {\r\n  const { sort_by, updateSortBy } = props;\r\n  const handleClick = value => {\r\n    return () => updateSortBy(value);\r\n  };\r\n  const getItemClassName = value =>\r\n    classNames(\"nav-link\", { active: sort_by === value });\r\n\r\n  return (\r\n    <ul className=\"tabs nav nav-pills\">\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getItemClassName(\"popularity.desc\")}\r\n          onClick={handleClick(\"popularity.desc\")}\r\n        >\r\n          Popularity desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getItemClassName(\"revenue.desc\")}\r\n          onClick={handleClick(\"revenue.desc\")}\r\n        >\r\n          Revenue desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getItemClassName(\"vote_average.desc\")}\r\n          onClick={handleClick(\"vote_average.desc\")}\r\n        >\r\n          Vote average desc\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default MovieTabs;\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst Pages = props => {\r\n  const { page, total_pages, updatePage } = props;\r\n  const handleClick = value => {\r\n    const next_page = value === \"backward\" ? page - 1 : page + 1;\r\n    return () => updatePage(next_page);\r\n  };\r\n\r\n  const getItemClassName = value => {\r\n    return classNames(\"btn btn-primary\", {\r\n      disabled:\r\n        (page === 1 && value === \"backward\") ||\r\n        (page === total_pages && value === \"forward\")\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"row d-flex justify-content-between align-items-center\">\r\n      <div className=\"col-3\">\r\n        <button\r\n          className={getItemClassName(\"backward\")}\r\n          onClick={handleClick(\"backward\")}\r\n        >\r\n          Backward\r\n        </button>\r\n      </div>\r\n      <div className=\"col-6\">\r\n        <p className=\"text-center\">{`Page ${page} from ${total_pages}`}</p>\r\n      </div>\r\n      <div className=\"col-3\">\r\n        <button\r\n          className={getItemClassName(\"forward\")}\r\n          onClick={handleClick(\"forward\")}\r\n        >\r\n          Forward\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pages;\r\n","import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\nimport \"../stylesheets/index.scss\";\n\nimport MovieItem from \"./MovieItem\";\nimport MovieTabs from \"./MovieTabs\";\nimport Pages from \"./Pages\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      movies: [],\n      moviesToWatch: [],\n      sort_by: \"popularity.desc\",\n      page: 1,\n      total_pages: 1\n    };\n  }\n\n  getMovies = () => {\n    fetch(\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${\n      this.state.sort_by\n      }&page=${this.state.page}`\n    )\n      .then(response => response.json())\n      .then(data =>\n        this.setState({ movies: data.results, total_pages: data.total_pages })\n      );\n  };\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.sort_by !== this.state.sort_by) {\n      this.setState({ page: 1 });\n      this.getMovies();\n    }\n    else if (prevState.page !== this.state.page) {\n      this.getMovies();\n    }\n  }\n\n  removeMovie = movie => {\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n    this.setState({ movies: updateMovies });\n  };\n\n  addMovieToWatchList = movie => {\n    const updateMovies = [...this.state.moviesToWatch, movie];\n    this.setState({ moviesToWatch: updateMovies });\n  };\n\n  removeMovieFromWatchList = movie => {\n    const updateMovies = this.state.moviesToWatch.filter(\n      item => item.id !== movie.id\n    );\n    this.setState({ moviesToWatch: updateMovies });\n  };\n\n  updateSortBy = value => this.setState({ sort_by: value });\n\n  updatePage = value => this.setState({ page: value });\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <MovieTabs\n                  sort_by={this.state.sort_by}\n                  updateSortBy={this.updateSortBy}\n                />\n              </div>\n            </div>\n            <div className=\"row mt-4\">\n              <div className=\"col-12\">\n                <Pages\n                  page={this.state.page}\n                  total_pages={this.state.total_pages}\n                  updatePage={this.updatePage}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map(movie => {\n                return (\n                  <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addMovieToWatchList={this.addMovieToWatchList}\n                      removeMovieFromWatchList={this.removeMovieFromWatchList}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n            <div className=\"row mt-4\">\n              <div className=\"col-12\">\n                <Pages\n                  page={this.state.page}\n                  total_pages={this.state.total_pages}\n                  updatePage={this.updatePage}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <p>Will watch: {this.state.moviesToWatch.length}</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport App from \"./components/App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}